{"version":3,"sources":["features/calculator/Calculator.module.css","features/calculator/calculatorSlice.js","features/calculator/Calculator.js","App.js","app/store.js","index.js"],"names":["module","exports","calculatorSlice","createSlice","name","initialState","number","calculation","display","operand","result","reducers","addNumber","state","action","payload","clearNumber","addToCalculation","removeFromCalculation","clearCalculation","allClear","addToDisplay","clearDisplay","chooseOperand","clearOperand","compute","clearCompute","actions","selectCalculation","calculator","selectOperand","selectResult","selectDisplay","checkOperand","input","dispatch","getState","length","console","log","checkInput","includes","Calculator","useSelector","useDispatch","className","styles","container","buttons","btn","onClick","toString","checkANS","red","lastLetter","newCalculation","slice","test","spantwo","numbers","split","forEach","item","push","parseFloat","footer","App","store","configureStore","reducer","calculatorReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ae75e6af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Calculator_container__mzWPR\",\"buttons\":\"Calculator_buttons__3fg75\",\"btn\":\"Calculator_btn___TiK2\",\"spantwo\":\"Calculator_spantwo__2nzjG\",\"red\":\"Calculator_red__1OPwm\",\"display\":\"Calculator_display__ZdP0G\",\"calculation\":\"Calculator_calculation__2WnWh\",\"result\":\"Calculator_result__3Rr2n\",\"operand\":\"Calculator_operand__pqqhX\",\"footer\":\"Calculator_footer__3EiGu\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n    number: \"\",         // Current number input\r\n    calculation: \"\",    // Keep track of the whole calculation input\r\n    display: \"0\",        // For display \r\n    operand: \"\",        // Which calculation to perform\r\n    result: \"0\",          // Result of the calculation\r\n}\r\n\r\nexport const calculatorSlice = createSlice ({\r\n    name: 'calculator',\r\n    initialState,\r\n    reducers: {\r\n        addNumber: (state, action) => {\r\n            state.number += action.payload;\r\n        },\r\n        clearNumber: (state) => {\r\n            state.number = \"\";\r\n        },\r\n        addToCalculation: (state, action) => {\r\n            state.calculation += action.payload;\r\n        },\r\n        removeFromCalculation: (state, action) => {\r\n            state.calculation = action.payload;\r\n        },\r\n        clearCalculation: (state) => {\r\n            state.calculation = \"\";\r\n        },\r\n        allClear: (state) => {\r\n            state.number = \"\";\r\n            state.calculation = \"\";\r\n            state.display = \"0\";\r\n            state.operand = \"\";\r\n            state.result = \"0\";\r\n        },\r\n        addToDisplay: (state, action) => {\r\n            state.display = action.payload;\r\n        },\r\n        clearDisplay: (state) => {\r\n            state.display = \"0\"\r\n        },\r\n        chooseOperand: (state, action) => {\r\n            state.operand = action.payload;\r\n        },\r\n        clearOperand: (state) => {\r\n            state.operand = \"\"\r\n        },\r\n        compute: (state, action) => {\r\n            state.result = action.payload;\r\n        },\r\n        clearCompute: (state) => {\r\n            state.result = \"\";\r\n        },\r\n    }\r\n})\r\n\r\nexport const { allClear, addNumber, clearNumber, addToDisplay, clearDisplay, addToCalculation, removeFromCalculation, clearCalculation, chooseOperand, clearOperand, compute, clearCompute } = calculatorSlice.actions;\r\n\r\nexport const selectCalculation = (state) => state.calculator.calculation;\r\nexport const selectOperand = (state) => state.calculator.operand;\r\nexport const selectResult = (state) => state.calculator.result;\r\nexport const selectNumber = (state) => state.calculator.number;\r\nexport const selectDisplay = (state) => state.calculator.display;\r\n\r\nexport const checkANS = (result) => (dispatch, getState) => {\r\n    dispatch(removeFromCalculation(result.toString()));\r\n}\r\n\r\nexport const checkDelete = () => (dispatch, getState) => {\r\n    const calculation = selectCalculation(getState());\r\n    dispatch(clearDisplay());\r\n\r\n    // if there is nothing to delete -> ignore it\r\n    if (calculation.length === 0) {\r\n        dispatch(clearNumber());\r\n        dispatch(clearOperand());\r\n        dispatch(clearDisplay());\r\n        console.log(\"Cannot delete\")\r\n        return\r\n    }\r\n    \r\n    let lastLetter = calculation[calculation.length-1];\r\n    let newCalculation = \"\";\r\n    let regex = /\\D/;\r\n\r\n    if (lastLetter === \".\") {\r\n        newCalculation= calculation.slice(0, -1);\r\n        dispatch(removeFromCalculation(newCalculation))\r\n        return\r\n    }\r\n\r\n    if (regex.test(lastLetter)) {\r\n        newCalculation= calculation.slice(0, -3);\r\n        console.log(\"last digit is not number and new calculation:\", newCalculation)\r\n        dispatch(clearOperand())\r\n        dispatch(removeFromCalculation(newCalculation))\r\n    } else {\r\n        newCalculation= calculation.slice(0, -1);\r\n        console.log(\"last digit is number and new calculation:\", newCalculation)\r\n        dispatch(removeFromCalculation(newCalculation))\r\n    }\r\n}\r\n\r\nexport const checkOperand = (input) => (dispatch, getState) => {\r\n    const operand = selectOperand(getState());\r\n    const calculation = selectCalculation(getState());\r\n    // if operand is first input -> ignore it\r\n    if (calculation.length === 0) {\r\n        console.log(\"input number first\")\r\n        return\r\n    }\r\n    \r\n    if (operand.length === 0) {\r\n        dispatch(chooseOperand(input))\r\n        dispatch(addToCalculation(\" \" + input + \" \"))\r\n        dispatch(clearNumber());\r\n    }\r\n}\r\n\r\nexport const checkInput = (input) => (dispatch, getState) => {\r\n    const number = selectNumber(getState());\r\n    const calculation = selectCalculation(getState());\r\n    dispatch(clearDisplay());\r\n\r\n    if (calculation.length > 53) {\r\n        console.log(\"Too many inputs for the display\")\r\n        return;\r\n    }\r\n    // Check zero\r\n    // if zero is first input  -> ignore it\r\n    if (input ===\"0\" && number.length === 0) {\r\n        console.log(\"do not add leading zeros\")\r\n        return\r\n    } \r\n    // Check for period\r\n    // If period is first input -> add zero before it\r\n    if (input === \".\" && number === \"\") {\r\n        dispatch(addNumber(\"0.\"));\r\n        dispatch(addToCalculation(\"0.\"))\r\n        return\r\n    }\r\n    // if period is already added -> ignore input\r\n    if (input === \".\" && number.includes(\".\")) {\r\n        console.log(\"cannot add second period\");\r\n    } else {\r\n        dispatch(addNumber(input));\r\n        dispatch(addToCalculation(input))\r\n    }\r\n}\r\n\r\nexport const calculateResult = () => (dispatch, getState) => {\r\n    const calculation = selectCalculation(getState());\r\n    if (calculation.length === 0) {\r\n        return\r\n    }\r\n    const regex = /[xรท+-]/g\r\n    let numbers = []\r\n    const operand = selectOperand(getState());\r\n    const inputs = calculation.split(regex);\r\n    inputs.forEach(item => numbers.push(parseFloat(item)));\r\n\r\n    let result = 0.0;\r\n    switch (operand) {\r\n        case \"+\":\r\n            result = numbers[0] + numbers[1];\r\n            break;\r\n        case \"-\":\r\n            result = numbers[0] - numbers[1];\r\n            break;\r\n        case \"x\":\r\n            result = numbers[0] * numbers[1];\r\n            break;\r\n        case \"รท\":\r\n            result = numbers[0] / numbers[1];\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    dispatch(addToDisplay(calculation));\r\n    dispatch(clearCalculation());\r\n    dispatch(clearNumber());\r\n    dispatch(clearOperand());\r\n    dispatch(compute(result));\r\n}\r\n\r\nexport default calculatorSlice.reducer;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {   \r\n    calculateResult,\r\n    checkInput,\r\n    checkOperand,\r\n    checkDelete,\r\n    selectResult,\r\n    selectCalculation,\r\n    selectDisplay,\r\n    allClear,\r\n    checkANS,\r\n} from './calculatorSlice';\r\nimport styles from './Calculator.module.css';\r\n\r\nexport function Calculator() {\r\n    const result = useSelector(selectResult);\r\n    const calculation = useSelector(selectCalculation);\r\n    const display = useSelector(selectDisplay);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.display}>\r\n                <p className={styles.calculation}>{calculation !== \"\" ? calculation : display}</p>\r\n                <h4 className={styles.result}>{result}</h4>\r\n            </div>\r\n\r\n            <div className={styles.buttons}>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"7\"))}>7</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"8\"))}>8</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"9\"))}>9</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkOperand(\"+\"))}>+</button>\r\n\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"4\"))}>4</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"5\"))}>5</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"6\"))}>6</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkOperand(\"-\"))}>-</button>\r\n\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"1\"))}>1</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"2\"))}>2</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"3\"))}>3</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkOperand(\"x\"))}>x</button>\r\n\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\"0\"))}>0</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkInput(\".\"))}>.</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkANS(result))}>ANS</button>\r\n                <button className={styles.btn} onClick={() => dispatch(checkOperand(\"รท\"))}>รท</button>\r\n                \r\n                <button className={`${styles.btn} ${styles.red}`} onClick={() => dispatch(checkDelete())}>DEL</button>\r\n                <button className={`${styles.btn} ${styles.red}`}onClick={() => dispatch(allClear())}>AC</button>\r\n                <button className={`${styles.btn} ${styles.spantwo}`} onClick={() => dispatch(calculateResult())}>=</button>\r\n            </div>\r\n            <div className={styles.footer}> Calculator by tonikv </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\nimport { Calculator } from './features/calculator/Calculator';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Calculator />\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport calculatorReducer from '../features/calculator/calculatorSlice';\n\nexport const store = configureStore({\n  reducer: {\n    calculator: calculatorReducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}